{"version":3,"sources":["components/HOC/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","styles","statusSpan","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","isOwner","savePhoto","Preloader","discriptionBlok","imgGrid","photo","src","photos","large","ava","id","buttonPhoto","type","target","files","htmlFor","gridIn","fullName","aboutMe","Post","message","item","postMessage","MyPosts","memo","postElement","post","map","p","like","key","newPostText","postBlok","AddMessageReduxForm","onSubmit","values","sendPost","newMessageBody","posts","reduxForm","form","myPosts","handleSubmit","Field","rows","cols","name","component","placeholder","textarea","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","style","ProfileContainer","userId","match","params","authorizedUserId","history","profileThunk","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter"],"mappings":"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","file":"static/js/3.d9e5dabe.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n\r\n});\r\nconst WithAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n            return <Component{...this.props} />\r\n        }\r\n\r\n    }\r\n    let ConnectedAuthRedirect = connect (mapStateToPropsRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirect;\r\n};\r\n\r\nexport default WithAuthRedirect;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"discriptionBlok\":\"ProfileInfo_discriptionBlok__3GGJP\",\"imgGrid\":\"ProfileInfo_imgGrid__2Bhex\",\"buttonPhoto\":\"ProfileInfo_buttonPhoto__1pfo2\",\"gridIn\":\"ProfileInfo_gridIn__1PxZ3\",\"statusSpan\":\"ProfileInfo_statusSpan__2fDyv\",\"status\":\"ProfileInfo_status__5v3f_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3tKzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlok\":\"MyPosts_postBlok__19IYm\",\"myPosts\":\"MyPosts_myPosts__2E8ks\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2i0fl\",\"postMessage\":\"Post_postMessage__1XbZD\"};","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./ProfileInfo.module.css\";\r\n\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode= () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const diactivateEditMode= () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    };\r\n\r\n    const onStatusChange =(e) => {\r\n        setStatus(e.currentTarget.value)\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={styles.status}>\r\n            {!editMode &&\r\n            <div className={styles.statusSpan}>\r\n                <span  onDoubleClick={activateEditMode}>{props.status || 'set a status message'}</span>\r\n                <hr/>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange}\r\n                    onBlur={diactivateEditMode}\r\n                       autoFocus={true}\r\n                       value={status}\r\n                      /><hr/>\r\n            </div>\r\n            }\r\n        </div>)\r\n};\r\n\r\n\r\nexport default ProfileStatusHooks;","import React from 'react';\r\nimport styles from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/ Preloader/Preloader\";\r\nimport ava from \"../../../../assets/image/ava.png\";\r\nimport ProfileStatusHooks from \"./ProfileStatusHooks\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst ProfileInfo = ({profile, updateStatus, status, isOwner, savePhoto }) => {\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const mainPhoto = (e) => {\r\n       if( e.target.files.length){\r\n           savePhoto(e.target.files[0]);\r\n       }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.discriptionBlok}>\r\n            <div className={styles.imgGrid}>\r\n\r\n                <img className={styles.photo} src={profile.photos.large || ava}/>\r\n               <input  id={\"profilePhoto\"} className={styles.buttonPhoto} type={\"file\"} onChange={mainPhoto}/>\r\n                {isOwner && <label  htmlFor={\"profilePhoto\"}>Update</label>}\r\n\r\n            </div>\r\n            <div className={styles.gridIn}>\r\n                <div className={styles.fullName}>{profile.fullName}</div>\r\n                <ProfileStatusHooks className={styles.status} status={status} updateStatus={updateStatus}/>\r\n                <div className={styles.aboutMe}>About Me: {profile.aboutMe}</div>\r\n            </div>\r\n        </div>)\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Post.module.css';\r\nimport ava from \"../../../../assets/image/ava.png\"\r\n\r\nconst Post = ({message}) => {\r\n    return (\r\n\r\n        <div className={styles.item}>\r\n            <img src={ava}/>\r\n\r\n            <div className={styles.postMessage}>\r\n                {message}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    let postElement = props.post.map(p => <Post message={p.message} like={p.like} key={p.id}/>);\r\n\r\n    let newPostElement = props.newPostText;\r\n\r\n\r\n    const addNewPost = (values) => {\r\n        props.sendPost(values.newMessageBody);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.postBlok}>\r\n            <AddMessageReduxForm onSubmit={addNewPost}/>\r\n            <div className={styles.posts}>\r\n                {postElement}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n});\r\n\r\nconst AddMessageForm = (props) => {\r\n    return <form className={styles.myPosts} onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field rows=\"3\" cols=\"77\"\r\n                   name='newMessageBody'\r\n                   component='textarea'\r\n                   placeholder=\"What's new?\"\r\n                   className={styles.textarea}/>\r\n        </div>\r\n        <div>\r\n            <button>\r\n                Post\r\n            </button>\r\n        </div>\r\n    </form>\r\n};\r\n\r\nconst AddMessageReduxForm = reduxForm({form: 'dialigAddMessageForm'})(AddMessageForm)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        post: state.profilePage.post,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendPost: (newMessageBody) => {\r\n            dispatch(addPostActionCreator(newMessageBody))\r\n\r\n        }\r\n\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = ({profile, status, updateStatus, isOwner, savePhoto }) => {\r\n\r\n    return (\r\n        <div className={style.profile}>\r\n            <ProfileInfo savePhoto = {savePhoto} isOwner={isOwner} profile={profile} status = {status} updateStatus={updateStatus}/>\r\n            <MyPostsContainer />\r\n\r\n        </div>)\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, profile, profileThunk, savePhoto, setUserProfile, updateStatus} from \"../../Redux/profile-reducer\";\r\n\r\n\r\nimport {withRouter} from \"react-router-dom\";\r\nimport WithAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile(){\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.profileThunk(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if( this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n\r\n});\r\nexport default compose(\r\n    connect(mapStateToProps, {profileThunk, getStatus, updateStatus, savePhoto}),\r\n    withRouter,\r\n    WithAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}