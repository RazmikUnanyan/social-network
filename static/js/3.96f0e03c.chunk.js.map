{"version":3,"sources":["components/HOC/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","className","styles","statusSpan","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","s","discriptionBlok","imgGrid","photo","src","photos","large","ava","buttonPhoto","gridIn","fullName","aboutMe","Preloader","Post","message","item","postMessage","MyPosts","memo","postElement","post","map","p","like","key","id","newPostText","postBlok","AddMessageReduxForm","onSubmit","values","sendPost","newMessageBody","posts","reduxForm","form","myPosts","handleSubmit","Field","rows","cols","name","component","placeholder","textarea","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","style","ProfileContainer","userId","match","params","authorizedUserId","history","profileThunk","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.96f0e03c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n\r\n});\r\nconst WithAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n            return <Component{...this.props} />\r\n        }\r\n\r\n    }\r\n    let ConnectedAuthRedirect = connect (mapStateToPropsRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirect;\r\n};\r\n\r\nexport default WithAuthRedirect;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"discriptionBlok\":\"ProfileInfo_discriptionBlok__3GGJP\",\"imgGrid\":\"ProfileInfo_imgGrid__2Bhex\",\"buttonPhoto\":\"ProfileInfo_buttonPhoto__1pfo2\",\"gridIn\":\"ProfileInfo_gridIn__1PxZ3\",\"statusSpan\":\"ProfileInfo_statusSpan__2fDyv\",\"status\":\"ProfileInfo_status__5v3f_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3tKzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlok\":\"MyPosts_postBlok__19IYm\",\"myPosts\":\"MyPosts_myPosts__2E8ks\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2i0fl\",\"postMessage\":\"Post_postMessage__1XbZD\"};","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./ProfileInfo.module.css\";\r\n\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode= () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const diactivateEditMode= () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    };\r\n\r\n    const onStatusChange =(e) => {\r\n        setStatus(e.currentTarget.value)\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={styles.status}>\r\n            {!editMode &&\r\n            <div className={styles.statusSpan}>\r\n                <span  onDoubleClick={activateEditMode}>{props.status || 'set a status message'}</span>\r\n                <hr/>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange}\r\n                    onBlur={diactivateEditMode}\r\n                       autoFocus={true}\r\n                       value={status}\r\n                      /><hr/>\r\n            </div>\r\n            }\r\n        </div>)\r\n};\r\n\r\n\r\nexport default ProfileStatusHooks;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/ Preloader/Preloader\";\r\nimport ava from \"../../../../assets/image/ava.jpg\";\r\nimport ProfileStatusHooks from \"./ProfileStatusHooks\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst ProfileInfo = ({profile, updateStatus, status }) => {\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.discriptionBlok}>\r\n            <div className={s.imgGrid}>\r\n                <img className={s.photo} src={profile.photos.large != null ? profile.photos.large : ava}/>\r\n                <NavLink to={'#'}><div className={s.buttonPhoto} ></div></NavLink>\r\n            </div>\r\n            <div className={s.gridIn}>\r\n                <div className={s.fullName}>{profile.fullName}</div>\r\n                <ProfileStatusHooks className={s.status} status={status} updateStatus={updateStatus}/>\r\n                <div className={s.aboutMe}>About Me: {profile.aboutMe}</div>\r\n            </div>\r\n        </div>)\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst Post = ({message}) => {\r\n    return (\r\n\r\n        <div className={styles.item}>\r\n            <img src=\"https://img.audiomania.ru/pics/goods/original/d/daft_punk-random_access_memories_2_lp1.jpg\"/>\r\n\r\n            <div className={styles.postMessage}>\r\n                {message}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    let postElement = props.post.map(p => <Post message={p.message} like={p.like} key={p.id}/>);\r\n\r\n    let newPostElement = props.newPostText;\r\n\r\n\r\n    const addNewPost = (values) => {\r\n        props.sendPost(values.newMessageBody);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.postBlok}>\r\n            <AddMessageReduxForm onSubmit={addNewPost}/>\r\n            <div className={styles.posts}>\r\n                {postElement}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n});\r\n\r\nconst AddMessageForm = (props) => {\r\n    return <form className={styles.myPosts} onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field rows=\"3\" cols=\"77\"\r\n                   name='newMessageBody'\r\n                   component='textarea'\r\n                   placeholder=\"What's new?\"\r\n                   className={styles.textarea}/>\r\n        </div>\r\n        <div>\r\n            <button>\r\n                Post\r\n            </button>\r\n        </div>\r\n    </form>\r\n};\r\n\r\nconst AddMessageReduxForm = reduxForm({form: 'dialigAddMessageForm'})(AddMessageForm)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        post: state.profilePage.post,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendPost: (newMessageBody) => {\r\n            dispatch(addPostActionCreator(newMessageBody))\r\n\r\n        }\r\n\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = ({profile, status, updateStatus }) => {\r\n\r\n    return (\r\n        <div className={style.profile}>\r\n            <ProfileInfo profile={profile} status = {status} updateStatus={updateStatus}/>\r\n            <MyPostsContainer />\r\n\r\n        </div>)\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, profile, profileThunk, setUserProfile, updateStatus} from \"../../Redux/profile-reducer\";\r\n\r\n\r\nimport {withRouter} from \"react-router-dom\";\r\nimport WithAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.profileThunk(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n\r\n});\r\nexport default compose(\r\n    connect(mapStateToProps, {profileThunk, getStatus, updateStatus}),\r\n    withRouter,\r\n    WithAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}